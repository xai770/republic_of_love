---
id: P0.3
title: "Profile Extraction Pipeline"
phase: 0
status: completed
owner: arden
priority: critical
completed_date: 2026-01
effort: 16h
---

# P0.3 Profile Extraction Pipeline

## Goal

Extract matchable skills from user profiles (work history, skills keywords).

## Status: ✅ COMPLETED

## The Pipeline

```
profile_work_history (job descriptions)
    ↓
Clara extracts explicit CPS facets
    ↓
Diego enriches with implied/enabler skills
    ↓
profile_facets (matchable dimensions)
```

### Stage 1: Explicit Extraction (Clara)

**Actor:** `profile_facets__extract_C__clara.py`

**Input:** `profile_work_history` entries

**Output:** `profile_facets` — Explicit skills mentioned in work history.

**Example:**
```
Work history: "Led team of 12 engineers building payment platform. 
              Reduced processing time by 40% using Python optimization."
              
Extracted:
- skill: "Team Leadership", track_record: "12 engineers"
- skill: "Python", track_record: "40% optimization"
- skill: "Payment Systems", domain: "fintech"
```

### Stage 2: Skill Enrichment (Diego)

**Actor:** `profile_facets__enrich_U__diego.py`

**Input:** Clara's explicit extractions

**Output:** Additional implied/enabler skills

**Logic:** Uses `config/enabler_skills.json` knowledge base:
```json
{
    "domain_enablers": {
        "payment_systems": ["PCI_compliance", "transaction_processing"],
        "banking": ["regulatory_compliance", "risk_management"]
    },
    "role_enablers": {
        "team_lead": ["stakeholder_management", "resource_planning"],
        "architect": ["system_design", "technical_documentation"]
    }
}
```

## Schema

```sql
profile_facets (
    facet_id SERIAL PRIMARY KEY,
    profile_id INTEGER REFERENCES profiles,
    skill TEXT,
    experience_years INTEGER,
    certificate TEXT,
    track_record TEXT,
    domain TEXT,
    seniority TEXT,
    setting TEXT,
    role TEXT,
    source TEXT,  -- 'explicit' or 'implied'
    created_at TIMESTAMP
)
```

## Metrics

| Metric | Value |
|--------|-------|
| Profiles processed | 2 (Gershon, Gelinda) |
| Facets extracted | 91 (Gershon) |
| Explicit vs implied | 70% / 30% |

## Lessons Learned

1. **Work history is source of truth** — Don't let users edit extracted facets. Edit work history, re-extract.
2. **Implied skills add value** — A "payment systems" role implies PCI knowledge even if not stated.
3. **Track records matter** — "Led 12 engineers" beats "team leadership" for differentiation.
