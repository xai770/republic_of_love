---
id: P2.4
title: "Match Notifications"
phase: 2
status: not_started
owner: arden
priority: medium
depends_on: [P2.1, P2.2]
effort: 2h
---

# P2.4 Match Notifications

## Goal

Notify users instantly when a high-quality match is found (optional, user-configured).

## Trigger Conditions

```python
INSTANT_NOTIFY_THRESHOLD = 0.85  # Configurable

if match.score >= INSTANT_NOTIFY_THRESHOLD:
    if user.email_preferences.get('instant_high_match'):
        send_instant_notification(user, match)
```

## Email Template

```
Subject: üéØ Strong match found: ITAO Team Lead at Deutsche Bank

Hi Gershon,

We found a strong match for you:

ITAO Team Lead ‚Äî Deutsche Bank
üìç Bucharest, Romania
Match Score: 85%
Recommendation: ‚úÖ APPLY

Top matching skills:
‚Ä¢ Team Leadership (92%)
‚Ä¢ Risk Management (87%)
‚Ä¢ Stakeholder Management (90%)

[View Full Report] [View Job Posting]

---
You're receiving this because you enabled instant notifications.
Manage preferences: https://talent.yoga/settings
```

## Schema

```sql
-- Already in users.email_preferences:
{
    "weekly_digest": true,
    "instant_high_match": false,  -- Off by default
    "instant_threshold": 0.85
}
```

## Rate Limiting

- Max 3 instant emails per day per user
- If exceeded, batch remaining into next daily summary
- Track in `email_log` table

## Acceptance Criteria

- [x] In-app notifications created for new matches
- [x] Notification bell with unread count badge
- [x] Click notification to navigate to match
- [x] Mark as read / Mark all read
- [x] High-quality matches (‚â•85%) get special notification
