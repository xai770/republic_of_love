# Arden's Daily Note - January 1, 2026

*A letter to my future self*

---

## ðŸŽ¯ What We're Building

A **skill taxonomy system** that organizes thousands of professional skills into a hierarchical folder structure. Think of it like organizing files into folders - "kubernetes" goes into `technical â†’ containerization`, "leadership" goes into `interpersonal`, etc.

**The Pipeline:**
```
WF2003 (Dual-Grader Classify) â†’ WF2004 (QA/Split) â†’ WF2005 (Wire Orphans)
```

- **WF2003**: Two LLM classifiers (A+B) must agree on where to place a skill. If they disagree, an arbitrator breaks the tie.
- **WF2004**: Quinn audits the taxonomy, Samantha splits oversized folders
- **WF2005**: Classifies orphan folders into the hierarchy via `is_a` relationships

---

## ðŸ“Š Current State

**Just completed:**
- Fresh reset with 200 skills
- WF2003 processed all 200 â†’ 172 grouped across 9 root categories
- Queued all roots for WF2004 (including oversized ones)

**Root category distribution after WF2003:**
```
technical: 63 skills â† needs splitting!
interpersonal: 34
domain_expertise: 31
execution_and_compliance: 14
language_and_communication: 11
self_management: 8
perception_and_observation: 7
physical_and_manual: 3
creative_and_generative: 1
```

**10 Root Categories** (entity_ids 39051-39060):
```
technical, interpersonal, domain_expertise, cognitive_and_analytical,
language_and_communication, self_management, perception_and_observation,
physical_and_manual, creative_and_generative, execution_and_compliance
```

---

## âš ï¸ Gotchas & Lessons Learned

### 1. Daemon Stalls
The `wave_runner_daemon` can get stuck without dying. Signs:
- Log file not updating (`logs/wave_runner_daemon.log`)
- Pending interactions piling up
- GPU idle but model loaded

**Check health:**
```bash
python3 scripts/turing.py --status  # Shows daemon health at bottom
```

**Fix:**
```bash
kill $(pgrep -f wave_runner_daemon)
nohup python3 scripts/wave_runner_daemon.py >> logs/wave_runner_daemon.log 2>&1 &
```

### 2. Root Categories Getting Deprecated
The reset script used to deprecate root categories. **FIXED** - but if roots show 0 children:
```sql
UPDATE entities SET status = 'active' 
WHERE entity_type = 'skill_group' 
AND canonical_name IN ('technical', 'interpersonal', ...);
```

### 3. Oversized Roots Not Auto-Queued
`--queue-qa` excludes roots by design. Use `--queue-qa-all` to include them:
```bash
python3 scripts/reset_and_run_taxonomy.py --queue-qa-all
```

### 4. WF3020/WF3021 are DEPRECATED
Old documentation refers to these. Current system is **WF2003/2004/2005**.

---

## ðŸ“š Key Files to Read

| File | Why |
|------|-----|
| `docs/WF2003-2005_skill_taxonomy_story.md` | **START HERE** - The new story I wrote today |
| `docs/WF3021_story.md` | Old story (deprecated but has context) |
| `scripts/reset_and_run_taxonomy.py` | Pipeline management utility |
| `scripts/turing.py` | Monitoring dashboard with daemon health |
| `core/wave_runner/actors/wf3021_qa.py` | Quinn QA auditor (still used by WF2004) |

---

## ðŸ”§ Useful Commands

```bash
# Status dashboard
python3 scripts/turing.py --status

# Queue skills for classification
python3 scripts/reset_and_run_taxonomy.py --queue 100

# Queue ALL groups for QA (including roots)
python3 scripts/reset_and_run_taxonomy.py --queue-qa-all

# Check what's in the queue
PGPASSWORD=base_yoga_secure_2025 psql -h localhost -U base_admin -d turing -c "
SELECT workflow_id, status, COUNT(*) FROM queue 
WHERE workflow_id IN (2003, 2004, 2005) 
GROUP BY workflow_id, status ORDER BY workflow_id;"

# Check skill distribution
PGPASSWORD=base_yoga_secure_2025 psql -h localhost -U base_admin -d turing -c "
SELECT e.canonical_name, COUNT(*) as skills
FROM entities e
JOIN entity_relationships er ON er.related_entity_id = e.entity_id
WHERE er.relationship = 'belongs_to' AND e.entity_type = 'skill_group'
GROUP BY e.canonical_name ORDER BY skills DESC;"
```

---

## ðŸŽ­ The Cast of Characters

From the story doc - our LLM actors:

| Name | Role | Model |
|------|------|-------|
| **Clara A** | Classifier A | mistral-nemo:12b |
| **Clara B** | Classifier B | qwen2.5:7b |
| **Arbitrator** | Breaks ties | gemma3:4b |
| **Victor** | Approves new folders | (supervisor LLM) |
| **Samantha** | Splits oversized folders | gemma2:latest |
| **Quinn** | QA auditor | (script) |

---

## ðŸŒ… What's Next

1. **Watch WF2004** - Samantha should analyze `technical` (63 skills) and propose splits like `programming_languages`, `cloud_platforms`, etc.

2. **Monitor daemon health** - The new `--status` shows if wave_runner is stalled

3. **Consider running 1000 skills** - We did 200 as a clean test. Full run would be larger.

---

## ðŸ’­ Philosophy

The user (Sandy? The human?) is thoughtful about clean runs and avoiding contamination from previous broken attempts. When they say "afresh" - they mean **truly fresh**. Reset the database, clear the queues, start clean.

They also appreciate good documentation and storytelling. The "librarian" metaphor in WF3021_story.md was well-received.

---

*Good luck, future me. The taxonomy awaits.*

â„¶ Arden, January 1, 2026
